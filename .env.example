# Runtime mode
APP_ENV=dev

# Kalshi API configuration
# TODO(KALSHI_API): confirm the correct base URL from Kalshi docs or your existing bot.
KALSHI_API_BASE_URL=https://api.elections.kalshi.com

# Authentication mode:
# - bearer: uses KALSHI_BEARER_TOKEN as Authorization: Bearer <token>
# - key_secret: placeholder header mode for key + secret flows
KALSHI_AUTH_MODE=bearer

# If using bearer mode:
KALSHI_BEARER_TOKEN=replace_with_your_token

# If using key_secret mode:
KALSHI_API_KEY_ID=replace_with_key_id
KALSHI_API_KEY_SECRET=replace_with_key_secret
# Optional: load private key PEM from file instead of inline secret text.
KALSHI_API_KEY_SECRET_FILE=

# API endpoint assumptions
# TODO(KALSHI_API): confirm exact path and params for markets endpoint.
KALSHI_MARKETS_ENDPOINT=/trade-api/v2/markets
# Day 6 order lifecycle endpoint assumptions
# TODO(KALSHI_API): confirm these paths from Kalshi docs or existing live bot code.
KALSHI_ORDERS_ENDPOINT=/trade-api/v2/portfolio/orders
KALSHI_ORDER_STATUS_ENDPOINT_TEMPLATE=/trade-api/v2/portfolio/orders/{order_id}
KALSHI_ORDER_CANCEL_ENDPOINT_TEMPLATE=/trade-api/v2/portfolio/orders/{order_id}

# Timeouts and pagination
KALSHI_TIMEOUT_SECONDS=15
KALSHI_DEFAULT_LIMIT=200
KALSHI_MAX_PRINT=10

# Journaling/output directories
JOURNAL_DIR=./data/journal
RAW_PAYLOAD_DIR=./data/raw

# Day 2 weather provider settings (NWS / api.weather.gov)
# NWS generally does not require an API key, but a descriptive User-Agent is recommended.
NWS_USER_AGENT=kalshi-weather-bot/0.1 (contact: your-email@example.com)
WEATHER_TIMEOUT_SECONDS=15
WEATHER_RAW_PAYLOAD_DIR=./data/raw/weather
WEATHER_JOURNAL_RAW_PAYLOADS=true

# Optional defaults for Day 2 CLI (if omitted, pass --lat and --lon at runtime)
WEATHER_DEFAULT_LAT=
WEATHER_DEFAULT_LON=
WEATHER_MAX_PRINT=5

# Day 4 risk manager + dry-run execution settings
RISK_ENABLED=true
RISK_MIN_PARSER_CONFIDENCE=0.75
RISK_MAX_WEATHER_AGE_SECONDS=1800
RISK_MAX_STAKE_PER_TRADE_CENTS=50
RISK_MAX_TOTAL_EXPOSURE_CENTS=500
RISK_MAX_EXPOSURE_PER_MARKET_CENTS=200
RISK_MAX_CONCURRENT_OPEN_ORDERS=5
RISK_DUPLICATE_INTENT_COOLDOWN_SECONDS=60
RISK_MIN_LIQUIDITY_CONTRACTS=
RISK_MAX_SPREAD_CENTS=
RISK_PRICE_MIN_CENTS=1
RISK_PRICE_MAX_CENTS=99
RISK_KILL_SWITCH=false
DRY_RUN_MODE=true

# Day 5 signal pipeline settings (conservative defaults)
SIGNAL_ENABLED=true
SIGNAL_MIN_PARSER_CONFIDENCE=0.75
SIGNAL_MIN_MATCHER_CONFIDENCE=0.60
SIGNAL_MIN_MODEL_CONFIDENCE=0.60
SIGNAL_MIN_EDGE=0.03
SIGNAL_MAX_CANDIDATES=3
SIGNAL_MAX_MARKETS_TO_SCAN=250
SIGNAL_STALENESS_OVERRIDE_SECONDS=
EDGE_SPREAD_BUFFER=0.01
EDGE_FEE_BUFFER=0.00
SIGNAL_ALLOW_UNSUPPORTED=false

# Day 6 cancel-only live execution validation settings
EXECUTION_MODE=dry_run
ALLOW_LIVE_API=false
ALLOW_LIVE_FILLS=false
CANCEL_ONLY_ENABLED=false
CANCEL_ONLY_MAX_ATTEMPTS_PER_RUN=3
CANCEL_ONLY_MAX_QTY=1
CANCEL_ONLY_POLL_TIMEOUT_SECONDS=15
CANCEL_ONLY_POLL_INTERVAL_SECONDS=0.5
CANCEL_ONLY_CANCEL_DELAY_MS=100
CANCEL_ONLY_MIN_DELAY_BETWEEN_ATTEMPTS_MS=100
CANCEL_ONLY_HALT_ON_ANY_FILL=true

# Day 7 guarded micro-live execution settings
MICRO_MODE_ENABLED=false
MICRO_MAX_NOTIONAL_PER_TRADE_DOLLARS=0.50
MICRO_MAX_TRADES_PER_RUN=1
MICRO_MAX_TRADES_PER_DAY=3
MICRO_MAX_OPEN_POSITIONS=1
MICRO_MAX_DAILY_GROSS_EXPOSURE_DOLLARS=5.00
MICRO_MAX_DAILY_REALIZED_LOSS_DOLLARS=2.00
MICRO_MIN_SECONDS_BETWEEN_TRADES=60
MICRO_HALT_ON_RECONCILIATION_MISMATCH=true
MICRO_HALT_ON_ANY_UNEXPECTED_FILL_STATE=true
MICRO_REQUIRE_SUPERVISED_MODE=true
MICRO_MIN_PARSER_CONFIDENCE=0.80
MICRO_MIN_EDGE=0.05
MICRO_MAX_WEATHER_AGE_SECONDS=900
MICRO_POLL_TIMEOUT_SECONDS=20
MICRO_POLL_INTERVAL_SECONDS=0.5
MICRO_MARKET_SCOPE_WHITELIST=
